<!DOCTYPE html>
<html>
<head>
<title>WordsJS</title>
<link href='src/style.css' rel='stylesheet'>
<script src='lib/jquery-1.11.0.min.js'></script>
<script src='src/wordtree.js'></script>
<!--<script src='src/lang/english.js'></script>-->
<script src='src/lang/words_testing.js'></script>
<script>

  var words = new PrefixTree();
  words.addList(wordList);

  $(document).ready(function(){

    $('button.scrabble').on('click', function(){
      var word = $('input.scrabble').val();
      var result = scrabbleTree(word, words).join(', ');
      $('textarea.scrabble').val(result);
      console.log(result);
      $('input.scrabble').val('');
    });
    $('button.autofill').on('click', function(){
      var word = $('input.autofill').val();
      var result = autoFill(word, word.length + 3, words).join(', ');
      console.log(result);
      var warning = '<!--Still in contruction--!>';
      $('textarea.autofill').val(result);
      $('input.scrabble').val('');
    });
    $('button.autofill').on('click', function(){
      var word = $('input.autofill').val();
      var fillWords = autoFill(word, word.length + 3, words);
      for(var i = 0; i < fillWords.length; i++){
        var el = '<li><button class="dropbutton">' + fillWords[i] + '</button></li>';
        console.log(el);
        $('.dropdown').append(el);
        $('.dropdown').show();
      }
    });

    $('input.scrabble').on('keypress', function(event){
      if(event.keyCode === 13){
        $('button.scrabble').trigger('click');
      }
    });
    $('input.scrabble').on('keyup change', function(event){
      $('.dropdown').hide();
      $('.dropdown').html('');
      var word = $('input.scrabble').val();
      if(word.length > 3){
        var fillWords = autoFill(word, word.length + 3, words);
        if(fillWords.length > 0){
          for(var i = 0; i < fillWords.length; i++){
            var el = '<li><button class="dropbutton">' + fillWords[i] + '</button></li>';
            $('.dropdown').append(el);
            $('.dropdown').show(150);
          }
        }
      }
    });
  });
</script>
</head>

<body>
  <header>
    <h1>WordsJS</h1>
    <div class='signature'>@marc0au</div>
  </header>
  <main class='functions'>

    <section class='scrabble'>
      <div class='title'>
        <h2>Cheat in Scrabble!</h2>
      </div>
      <div class='functionalities'>
        <input class='scrabble' type='text'></input>
        <button class='scrabble'>Enter</button>
        <br>
      </div>
      <textarea class='scrabble'></textarea>
      <ul class='dropdown'>
      </ul>

    </section>

    <section class='autofill'>
      <div class='title'>
        <h2>Autofill</h2>
      </div>
      <div class='functionalities'>
        <input class='autofill' type='text'></input>
        <button class='autofill'>Enter</button>
        <br>
      </div>
      <textarea class='autofill'></textarea>
    </section>

  </main>


</body>

</html>
